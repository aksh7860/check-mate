<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checkmate ‚ôüÔ∏è‚ù§Ô∏è</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: "Segoe UI", system-ui, sans-serif;
  background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
  color: white;
  overflow-x: hidden;
}

/* ---------- MAIN ---------- */
#mainContent {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: opacity 1.2s ease;
}

#mainContent.fadeOut {
  opacity: 0;
}

.container {
  max-width: 900px;
  padding: 24px;
  text-align: center;
}

.card {
  background: rgba(255,255,255,0.08);
  border-radius: 20px;
  padding: 24px;
  margin: 20px 0;
  box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}

/* ---------- LOGIN ---------- */
input {
  width: 100%;
  padding: 10px;
  border-radius: 10px;
  border: none;
  margin: 6px 0 14px;
}

/* ---------- CHESS ---------- */
.board {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  max-width: 320px;
  margin: 20px auto;
}

.square {
  aspect-ratio: 1 / 1;
  border-radius: 12px;
  background: #f5f5f5;
  color: #222;
  font-size: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.square.disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* ---------- BUTTONS ---------- */
.buttons {
  position: relative;
  height: 120px;
}

button {
  padding: 14px 28px;
  font-size: 18px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
}

#yesBtn {
  background: #ff4d6d;
  color: white;
}

#noBtn {
  position: absolute;
  left: 50%;
  top: 60px;
  background: #555;
  color: white;
}

#noText {
  margin-top: 12px;
  opacity: 0;
  transition: opacity 0.3s ease;
}

/* ---------- CHECKMATE ---------- */
#checkmateOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 64px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s ease;
  z-index: 50;
}

#checkmateOverlay.show {
  opacity: 1;
}

/* ---------- JAPAN SCENE ---------- */
#japanScene {
  position: fixed;
  inset: 0;
  opacity: 0;
  pointer-events: none;
  transition: opacity 2s ease;
}

#japanScene.show {
  opacity: 1;
  pointer-events: auto;
}

#japanScene video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.sceneOverlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.45);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 30px;
}

.photos {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
  max-width: 600px;
}

.photos img {
  width: 100%;
  border-radius: 16px;
}

#finalLine {
  margin-top: 24px;
  font-size: 18px;
  opacity: 0;
  transition: opacity 2s ease;
}
</style>
</head>

<body>

<!-- MUSIC -->
<audio id="valentineMusic" src="ek-din-aap-humko-mil-jaayenge.mp3"></audio>

<!-- CHECKMATE -->
<div id="checkmateOverlay">‚ôõ CHECKMATE ‚ôõ</div>

<!-- MAIN -->
<div id="mainContent">
  <div class="container">

    <!-- LOCK -->
    <div id="lockScreen" class="card">
      <h2>üîê One last thing‚Ä¶</h2>

      <label>What is the name I call you by?</label>
      <input id="q1">

      <label>My date of birth (day only)</label>
      <input id="q2">

      <label>What is my dream destination?</label>
      <input id="q3">

      <button onclick="unlock()" style="background:#ff4d6d;color:white;width:100%">
        Unlock üíñ
      </button>
      <p id="error"></p>
    </div>

    <!-- PROTECTED CONTENT -->
    <div id="protectedContent" style="display:none;">

      <h1>Hey you ‚ôüÔ∏è‚ù§Ô∏è</h1>

      <!-- CHESS -->
      <div class="card">
        <h2>Opening move</h2>
        <p>Which piece can move first?</p>

        <div class="board">
          <div class="square allowed">‚ôû</div>
          <div class="square allowed">‚ôüÔ∏è</div>
          <div class="square">‚ôú</div>
          <div class="square">‚ôù</div>
          <div class="square">‚ôõ</div>
          <div class="square">‚ôö</div>
        </div>

        <p id="chessMsg"></p>
      </div>

      <!-- QUESTION -->
      <div class="card">
        <h2>Will you be my Valentine?</h2>

        <div class="buttons">
          <button id="yesBtn">Yes üíñ</button>
          <button id="noBtn">No üôà</button>
        </div>

        <p id="noText">Who are you imposter? My bunny won‚Äôt choose this üòå</p>
      </div>

    </div>
  </div>
</div>

<!-- JAPAN SCENE -->
<div id="japanScene">
  <video autoplay muted loop playsinline>
    <source src="japan.mp4" type="video/mp4">
  </video>

  <div class="sceneOverlay">
    <div class="photos">
      <img src="photo1.jpg">
      <img src="photo2.jpg">
      <img src="photo3.jpg">
    </div>
    <p id="finalLine">Forever my best move.</p>
  </div>
</div>

<script>
const answers = {
  q1: "bunny",
  q2: "28",
  q3: "prague"
};

function unlock() {
  if (
    q1.value.toLowerCase() === answers.q1 &&
    q2.value === answers.q2 &&
    q3.value.toLowerCase() === answers.q3
  ) {
    lockScreen.style.display = "none";
    protectedContent.style.display = "block";
  } else {
    error.textContent = "Hmm‚Ä¶ try again üòå";
  }
}

/* Chess */
document.querySelectorAll(".square").forEach(sq => {
  sq.onclick = () => {
    if (!sq.classList.contains("allowed")) {
      chessMsg.textContent =
        "Are you sure you can do that as an opening move? ‚ôüÔ∏è";
    } else {
      chessMsg.textContent = "Good move üòâ";
    }
  };
});

/* NO button */
noBtn.onmouseenter = () => {
  noText.style.opacity = 1;
  noBtn.style.transform =
    `translate(${Math.random()*200-100}px, ${Math.random()*60-30}px)`;
};

/* YES */
yesBtn.onclick = () => {
  noBtn.remove();
  noText.remove();

  valentineMusic.play();
  checkmateOverlay.classList.add("show");

  setTimeout(() => {
    checkmateOverlay.classList.remove("show");
    mainContent.classList.add("fadeOut");

    setTimeout(() => {
      mainContent.style.display = "none";
      japanScene.classList.add("show");

      setTimeout(() => {
        finalLine.style.opacity = 1;
      }, 1500);

    }, 1200);
  }, 1200);
};
</script>

</body>
</html>
